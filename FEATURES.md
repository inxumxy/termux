# ğŸ¯ Loyiha Xususiyatlari va Funksiyalari

## ğŸ“‹ To'liq funksiyalar ro'yxati

### ğŸ‘¤ Foydalanuvchi Paneli

#### 1. ğŸš€ /start - Botni boshlash
- âœ… Majburiy a'zolik tekshiruvi
- âœ… Foydalanuvchi ro'yxatdan o'tkazish
- âœ… Xush kelibsiz xabari
- âœ… Asosiy menyu ko'rsatish
- âœ… Admin uchun maxsus panel

#### 2. ğŸ¤– AI Agent bot yaratish
- âœ… Gemini AI integratsiyasi
- âœ… NONOCHA BOT assistant
- âœ… Suhbat tarixi saqlash
- âœ… Kunlik 20 so'rov limiti
- âœ… PHP kod generatsiyasi
- âœ… Xato tuzatish va tahlil
- âœ… Kod optimizatsiya
- âœ… Log.txt ga xatolarni yozish
- âœ… Webhook avtomatik sozlash

**AI Agent imkoniyatlari:**
- PHP procedural kod yozish
- Telegram Bot API integratsiyasi
- Xatolarni aniqlash va tuzatish
- Kod optimizatsiya qilish
- Qo'llanma va yo'riqnomalar
- Savollarga javob berish

#### 3. ğŸ’» Kod orqali bot yaratish
**Jarayon:**
1. Bot token so'raladi
2. Token tekshiriladi (/getMe)
3. Bot ma'lumotlari saqlanadi
4. PHP fayl yuklash so'raladi
5. Xavfsizlik tekshiruvi
6. Token kodda borligini tekshirish
7. Storage limit tekshiruvi
8. Fayl saqlash (user_id/bot_number/)
9. Log qo'shish
10. Webhook o'rnatish
11. Database ga saqlash

**Xavfsizlik tekshiruvlari:**
- âŒ vendor/autoload.php
- âŒ MySQL/Database
- âŒ Python kod
- âŒ eval(), exec(), system()
- âŒ Shell buyruqlari
- âŒ File manipulation
- âŒ Infinite loops
- âŒ Memory limit bypass

#### 4. ğŸ“ File Manager
**Funksiyalar:**
- âœ… Bot tanlash (ro'yxat)
- âœ… Fayllar ro'yxati
- âœ… Fayl ma'lumotlari (hajm, sana)
- âœ… Faylni yuklab olish
- âœ… Faylni o'chirish
- âŒ Yangi fayl yuklash (xavfsizlik)

**Qo'llab-quvvatlanadigan fayllar:**
- PHP fayllar (.php)
- JSON fayllar (.json)
- Text fayllar (.txt)
- Log fayllar (.log)

#### 5. ğŸ¤– Mening Botlarim
**Ma'lumotlar:**
- Bot username (@username)
- Bot raqami (#1, #2, ...)
- Webhook holati (âœ…/âŒ)
- Yaratilgan sana
- Boshqarish tugmalari

**Amallar:**
- ğŸ“Š Bot ma'lumotlarini ko'rish
- ğŸ—‘ Botni o'chirish (fayl + database)
- ğŸ”„ Webhook qayta sozlash

#### 6. ğŸ’¼ Kabinet
**Statistika:**
- ğŸ‘¤ Foydalanuvchi ismi (mention)
- ğŸ’ Balans (olmos)
- ğŸ“Š Joriy tarif
- ğŸ¤– Botlar soni (qancha/limit)
- ğŸ’¾ Storage (MB/limit MB)

**Tugmalar:**
- ğŸ’ Balans to'ldirish
- ğŸ“Š Ta'rifni yangilash

#### 7. ğŸ’ Balans
- âœ… Joriy balans ko'rsatish
- âœ… 1 olmos = 120 UZS
- âœ… Admin bilan bog'lanish
- âœ… To'lov yo'riqnomasi

#### 8. ğŸ“Š Ta'riflar
**FREE (Bepul):**
- ğŸ¤– 1 ta bot
- ğŸ’¾ 1 MB storage
- ğŸ’ 0 olmos
- ğŸ†“ Barcha asosiy funksiyalar

**PRO:**
- ğŸ¤– 4 ta bot
- ğŸ’¾ 4.5 MB storage
- ğŸ’ 99 olmos
- âš¡ Barcha funksiyalar
- ğŸ¯ Priority support

**VIP:**
- ğŸ¤– 7 ta bot
- ğŸ’¾ 15 MB storage
- ğŸ’ 299 olmos (2.99 USD)
- ğŸ”¥ Barcha funksiyalar
- ğŸ‘‘ Premium support
- ğŸš€ Tezkor ishlov

**Ta'rif sotib olish:**
- âœ… Balansdan avtomatik yechiladi
- âœ… Darhol faollashadi
- âœ… Bildirishnoma yuboriladi

#### 9. â“ Yordam
**Qo'llanmalar:**
- ğŸ“ Bot yaratish (BotFather)
- ğŸ”‘ Token olish
- ğŸ’» Kod tahrirlovchilar
  - QuickEdit (Android)
  - Code Editor (iOS)
  - Acode
- ğŸ“š FAQ
- ğŸ“ Admin kontakt

#### 10. ğŸ“ Admin bilan bog'lanish
- âœ… Xabar yuborish
- âœ… Adminga avtomatik forward
- âœ… Reply funksiyasi
- âœ… Tarix saqlash
- âœ… Javob olish

---

### ğŸ‘¨â€ğŸ’¼ Admin Panel

#### 1. /admin - Admin panel kirish
- âœ… Faqat ADMIN_ID
- âœ… Maxsus admin menyu
- âœ… Barcha boshqaruv funksiyalari

#### 2. âš™ï¸ Ta'rif belgilash
**Har bir tarif uchun:**
- ğŸ¤– Bot limiti (son)
- ğŸ’¾ Storage limiti (MB)
- ğŸ’ Narx (olmos)

**Sozlash:**
- âœ… FREE sozlamalari
- âœ… PRO sozlamalari
- âœ… VIP sozlamalari
- âœ… Darhol saqlash
- âœ… Barcha foydalanuvchilarga ta'sir

#### 3. ğŸ’ Balans qo'shish
**Jarayon:**
1. User ID so'raladi
2. Olmos miqdori so'raladi
3. Database yangilanadi
4. Foydalanuvchiga bildirishnoma
5. Admin tasdiq oladi

#### 4. ğŸ“¢ Majburiy kanal
**Funksiyalar:**
- âœ… Kanal qo'shish
  - Channel ID
  - Channel username (@channel)
- âœ… Kanal o'chirish
- âœ… Kanal ro'yxati
- âœ… A'zolik tekshiruvi

**Tekshiruv:**
- getChatMember API
- Status: member, administrator, creator
- Barcha kanallar tekshiriladi

#### 5. ğŸ“£ Reklama/Post yuborish
**Imkoniyatlar:**
- ğŸ“ Text xabar
- ğŸ–¼ Rasm bilan
- ğŸ¥ Video bilan
- ğŸ“ Fayl bilan
- ğŸ”— URL tugma

**Yuborish:**
- âœ… Barcha foydalanuvchilarga
- âœ… Statistika (qancha yuborildi)
- âœ… Xato hisoboti
- âŒ Ban foydalanuvchilarga yubormaydi

#### 6. ğŸ”§ Maintenance Mode
**Sozlamalar:**
- â± Davomiylik (1-72 soat)
- ğŸ’¬ Xabar matni
- â° End time

**Ishlash:**
- âœ… Faqat admin kiradi
- âœ… Boshqalar xabar oladi
- âœ… Avtomatik o'chadi
- âœ… Manual o'chirish

#### 7. ğŸ“Š Statistika
**Ko'rsatkichlar:**
- ğŸ‘¥ Jami foydalanuvchilar
- ğŸ¤– Yaratilgan botlar
- ğŸš« Bloklangan foydalanuvchilar
- ğŸ’¾ Umumiy storage (MB)
- ğŸ’ Jami balans
- ğŸ“ˆ Kunlik statistika

#### 8. ğŸš« Ban/Unban
**Funksiyalar:**
- âœ… User ID orqali bloklash
- âœ… Blokdan chiqarish
- âœ… Ban sababi
- âœ… Ban tarixi
- âœ… Bildirishnoma

**Ban qilingan foydalanuvchi:**
- âŒ Botga kira olmaydi
- âŒ Xabar yubora olmaydi
- âŒ Tugma bosa olmaydi
- â„¹ï¸ "Siz bloklangansiz!" xabari

---

## ğŸ—„ Database Strukturasi

### users - Foydalanuvchilar
```sql
- user_id (INTEGER PRIMARY KEY)
- username (TEXT)
- first_name (TEXT)
- tariff (TEXT) - free/pro/vip
- balance (INTEGER) - olmos
- is_banned (INTEGER) - 0/1
- created_at (INTEGER) - timestamp
```

### bots - Foydalanuvchi botlari
```sql
- id (INTEGER PRIMARY KEY AUTOINCREMENT)
- user_id (INTEGER)
- bot_token (TEXT)
- bot_username (TEXT)
- bot_number (INTEGER) - 1,2,3...
- webhook_set (INTEGER) - 0/1
- created_at (INTEGER)
```

### channels - Majburiy kanallar
```sql
- id (INTEGER PRIMARY KEY AUTOINCREMENT)
- channel_id (TEXT)
- channel_username (TEXT)
- added_at (INTEGER)
```

### tariffs - Ta'riflar
```sql
- name (TEXT PRIMARY KEY) - free/pro/vip
- bot_limit (INTEGER)
- storage_limit_mb (REAL)
- price_diamond (INTEGER)
```

### admin_messages - Admin xabarlari
```sql
- id (INTEGER PRIMARY KEY AUTOINCREMENT)
- user_id (INTEGER)
- message_text (TEXT)
- created_at (INTEGER)
```

### user_states - Foydalanuvchi holatlari
```sql
- user_id (INTEGER PRIMARY KEY)
- state (TEXT)
- data (TEXT)
```

### ai_conversations - AI suhbatlar
```sql
- user_id (INTEGER)
- bot_number (INTEGER)
- role (TEXT) - user/model
- content (TEXT)
- created_at (INTEGER)
```

### ai_usage - AI limitlar
```sql
- user_id (INTEGER PRIMARY KEY)
- daily_requests (INTEGER)
- last_reset (INTEGER)
```

### maintenance - Texnik ishlar
```sql
- id (INTEGER PRIMARY KEY)
- is_active (INTEGER)
- end_time (INTEGER)
- message (TEXT)
```

---

## ğŸ” Xavfsizlik Xususiyatlari

### Code Scanning
**Bloklangan pattern'lar:**
1. `vendor/autoload.php` - Composer kutubxonalar
2. `mysql_*`, `mysqli_*`, `PDO` - Database
3. `exec()`, `shell_exec()`, `system()` - Shell buyruqlar
4. `eval()`, `base64_decode()` - Obfuscation
5. `python` - Python kod
6. `curl_exec` (telegram.org dan tashqari)
7. `unlink(../)`, `rmdir()` - File manipulation
8. `while(true)`, `for(;;)` - Infinite loops
9. `set_time_limit(0)` - Time limit bypass

### Storage Limits
- âœ… Tarif bo'yicha limit
- âœ… Har bir fayl tekshirish
- âœ… Umumiy hajm hisobi
- âŒ Limit oshsa rad etish

### Permissions
- âœ… Faqat o'z fayllariga kirish
- âœ… User ID papka ajratilgan
- âœ… Bot raqam papka ajratilgan
- âŒ Boshqa foydalanuvchi fayllariga kirish yo'q

### Webhook Security
- âœ… SSL majburiy
- âœ… Unique URL har bot uchun
- âœ… user_id va bot_number parameter
- âœ… Chroot o'xshash (chdir)

---

## ğŸš€ Performance

### Caching
- âœ… SQLite prepared statements
- âœ… Function result caching
- âœ… Database connection reuse

### Optimization
- âœ… Minimal API calls
- âœ… Batch operations
- âœ… Efficient queries
- âœ… File size checking

### Limits
- â± Max execution time: 30s
- ğŸ’¾ Memory limit: 128M
- ğŸ“¤ Upload max: 10M
- ğŸ”¢ AI requests: 20/day

---

## ğŸ“± User Experience

### Inline Keyboard
- âœ… Responsive design
- âœ… Clear navigation
- âœ… Back buttons
- âœ… Confirm dialogs

### Messages
- âœ… HTML formatting
- âœ… Emoji icons
- âœ… Mention support
- âœ… Multi-language ready

### Error Handling
- âœ… User-friendly errors
- âœ… Admin notifications
- âœ… Log recording
- âœ… Automatic recovery

---

## ğŸ¨ Customization

### Tariflar
- Admin paneldan sozlanadi
- Default qiymatlar bor
- Istalgancha tarif qo'shish mumkin

### Valyuta
- Olmos (ğŸ’) ishlatiladi
- 1 olmos = 120 UZS (o'zgartiriladi)
- Admin olmos beradi

### Limitlar
- Bot soni
- Storage hajmi
- AI so'rovlar
- Fayl hajmi

---

## ğŸ”„ Updates va Maintenance

### Database Migrations
- âœ… Automatic table creation
- âœ… Default data insertion
- âœ… Safe updates

### Backup
- ğŸ“… Avtomatik backup (cron)
- ğŸ’¾ Database backup
- ğŸ“ Files backup
- â° 30 kun saqlash

### Monitoring
- ğŸ“Š Real-time statistics
- ğŸ“ Log files
- ğŸ› Error tracking
- âš ï¸ Alert notifications

---

**Jami:** 50+ funksiya, 100% to'liq ishlaydigan platform! ğŸ‰

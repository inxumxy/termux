# Enable URL Rewriting
RewriteEngine On

# Redirect all requests to index.php for main bot
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^$ index.php [L]

# Allow direct access to bot files in bots directory
RewriteCond %{REQUEST_URI} ^/bots/
RewriteRule ^bots/([0-9]+)/([0-9]+)/index\.php$ bots/$1/$2/index.php [L]

# Protect data directory
<Directory "data">
    Options -Indexes
    Require all denied
</Directory>

# Protect log files
<Files "*.log">
    Require all denied
</Files>

# Set PHP settings
php_flag display_errors On
php_value error_reporting E_ALL
php_value memory_limit 256M
php_value max_execution_time 300
php_value upload_max_filesize 10M
php_value post_max_size 10M
